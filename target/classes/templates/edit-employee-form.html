<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Edit Employee</title>

    <!-- Favicon Link -->
    <link rel="icon" type="image/png" href="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/user-cog.svg">

    <!-- Bootstrap CSS Link -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          xintegrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
          crossorigin="anonymous">
</head>
<body>

<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card shadow-lg">
                <div class="card-header bg-info text-white">
                    <h4 class="mb-0">Edit Employee</h4>
                </div>
                <div class="card-body">

                    <!-- Form submits to POST /app/employees/update/{id} -->
                    <form action="#"
                          th:action="@{/app/employees/update/{id}(id=*{id})}"
                          th:object="${employee}"
                          method="post">

                        <!-- Hidden ID field: ESSENTIAL for the update operation -->
                        <input type="hidden" th:field="*{id}">

                        <div class="mb-3">
                            <label for="name" class="form-label">Name:</label>
                            <!-- th:field will pre-populate the input with the current employee's name -->
                            <input type="text" th:field="*{name}" id="name"
                                   class="form-control" placeholder="Employee Name">
                            <div class="text-danger mt-1" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
                        </div>

                        <div class="mb-3">
                            <label for="age" class="form-label">Age:</label>
                            <!-- th:field will pre-populate the input with the current employee's age -->
                            <input type="number" th:field="*{age}" id="age"
                                   class="form-control" placeholder="Age">
                            <div class="text-danger mt-1" th:if="${#fields.hasErrors('age')}" th:errors="*{age}"></div>
                        </div>

                        <!-- Buttons -->
                        <button type="submit" class="btn btn-info text-white me-2">Update Employee</button>
                        <a th:href="@{/app/employees}" class="btn btn-outline-secondary">Cancel</a>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        xintegrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>
<footer class="footer fixed-bottom pb-4">
    <div class="container">

        <div class="copyright text-center">
            Â© 2024 Muhammad Siraaj Khan Girdhurparsadh. All rights reserved.
        </div>
    </div>
</footer>
</html>